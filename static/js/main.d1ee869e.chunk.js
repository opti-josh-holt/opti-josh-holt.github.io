(this["webpackJsonpopti-josh-holt.github.io"]=this["webpackJsonpopti-josh-holt.github.io"]||[]).push([[0],{100:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var r,c=n(0),i=n.n(c),o=n(29),a=n.n(o),s=(n(100),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,193)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),i(e),o(e)}))}),l=n(12),u=n(35),j=n(32),b=n(187),d=n(184),O=n(185),h=n(192),f=n(4),p=n(2),g=(Object(f.a)(h.a)(r||(r=Object(j.a)(["\n  width: 42px;\n"]))),function(e){var t=e.setInputSettings,n=Object(c.useState)(""),r=Object(l.a)(n,2),i=r[0],o=r[1],a=Object(c.useState)(""),s=Object(l.a)(a,2),u=s[0],j=s[1],h=Object(c.useState)(""),f=Object(l.a)(h,2),g=f[0],v=f[1],x=Object(c.useState)(30),y=Object(l.a)(x,2);y[0],y[1];return Object(p.jsxs)(b.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[Object(p.jsx)(d.a,{id:"sdk-key-input",label:"SDK key",required:!0,value:i,onInput:function(e){return o(e.target.value)}}),Object(p.jsx)(d.a,{id:"flag-key-input",label:"Flag key",required:!0,value:u,onInput:function(e){return j(e.target.value)}}),Object(p.jsx)(d.a,{id:"flag-key-input",label:"Users to fake (#)",required:!0,value:g,onInput:function(e){return v(e.target.value)}}),Object(p.jsx)(O.a,{variant:"contained",onClick:function(){t({sdkKey:""===i?null:i,flagKey:""===u?null:u,numUsers:""===g?null:g})},children:"Run"})]})}),v=n(6),x=n(52),y=Object(x.createInstance)({sdkKey:"9rgh3WiYAPcvfoFcRYQnk"});function m(e){return Object(p.jsx)("pre",{style:{margin:0},children:e.children})}function S(){return null!==y.getOptimizelyConfig()}for(var k=[];k.length<4;)k.push("user-".concat(k.length+1));var F=k.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(v.a)({},t,[]))}),{}),I=new Promise((function(e){setTimeout((function(){y.onReady().then((function(){S(),e()}))}),500)}));function w(e){var t=e.projectId,n="https://app.optimizely.com/v2/projects/".concat(t,"/settings/implementation");return Object(p.jsxs)("div",{children:[Object(p.jsx)(m,{children:"Flag was off for everyone. Some reasons could include:"}),Object(p.jsx)(m,{children:"1. Your sample size of visitors was too small. Rerun, or increase the iterations in the FOR loop"}),Object(p.jsx)(m,{children:"2. By default you have 2 keys for 2 project environments (dev/prod). Verify in Settings>Environments that you used the right key for the environment where your flag is toggled to ON."}),Object(p.jsxs)(m,{children:["Check your key at ",Object(p.jsx)("a",{href:n,children:n})]}),Object(p.jsx)("br",{})]})}function C(e){var t=e.userId,n=e.setHasOnFlag,r=Object(x.useDecision)("mab_flag",{},{overrideUserId:t}),c=Object(l.a)(r,2),i=c[0];if(!c[1])return"";var o=i.variationKey;null===o&&console.log(" decision error: ",i.reasons),i.enabled&&setTimeout((function(){return n(!0)}));var a=i.variables.sort_method;return Object(p.jsx)(m,{children:"Flag ".concat(i.enabled?"on":"off",". User number ").concat(t," saw flag variation: ").concat(o," and got products sorted by: ").concat(a," config variable as part of flag rule: ").concat(i.ruleKey)})}var z=function(e){var t,n=e.inputSettings,r=Object(c.useState)(!1),i=Object(l.a)(r,2),o=i[0],a=i[1],s=Object(c.useState)(!1),u=Object(l.a)(s,2),j=u[0],b=u[1],d=Object(c.useState)(null),O=Object(l.a)(d,2),h=O[0],f=O[1];if(I.then((function(){return b(!0)})),y.onReady().then((function(){S()&&f(!0)})),S()){var g=JSON.parse(y.getOptimizelyConfig().getDatafile());console.log(g),t=g.projectId}var v="https://app.optimizely.com/v2/projects/".concat(t,"/reports");return console.log(n),n?Object(p.jsxs)(x.OptimizelyProvider,{optimizely:y,user:{id:"default_user"},children:[h&&Object(p.jsxs)(p.Fragment,{children:[k.map((function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(C,{userId:e,setHasOnFlag:a},e),F[e].map((function(e){return Object(p.jsx)(m,{children:e})})),Object(p.jsx)("br",{})]})})),!o&&Object(p.jsx)(w,{projectId:t}),j&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m,{children:"Done with your mocked A/B test."}),Object(p.jsxs)(m,{children:["Check out your report at"," ",Object(p.jsx)("a",{href:v,children:v})]}),Object(p.jsx)(m,{children:"Be sure to select the environment that corresponds to your SDK key"})]})]}),j&&!h&&Object(p.jsx)(m,{children:"Optimizely client invalid. Verify in Settings -> Environments that you used the primary environment's SDK key"})]}):Object(p.jsx)("div",{})},K=n(183),D=n(188),R=n(189),B=n(190),P=n(191),J=Object(f.a)(D.a)((function(e){var t=e.theme;return Object(u.a)(Object(u.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),T=function(e){var t=Object(c.useState)(null),n=Object(l.a)(t,2),r=n[0],o=n[1];return Object(p.jsxs)(i.a.Fragment,{children:[Object(p.jsx)(K.a,{}),Object(p.jsxs)(b.a,{sx:{flexGrow:1,height:"100vh"},children:[Object(p.jsx)(R.a,{position:"static",children:Object(p.jsx)(B.a,{children:Object(p.jsx)(P.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Flags Helper"})})}),Object(p.jsxs)(J,{children:[JSON.stringify(r),Object(p.jsx)(g,{setInputSettings:o}),r?Object(p.jsx)(z,{inputSettings:r}):Object(p.jsx)("div",{})]})]})]})};a.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),s()}},[[139,1,2]]]);
//# sourceMappingURL=main.d1ee869e.chunk.js.map