(this["webpackJsonpopti-josh-holt.github.io"]=this["webpackJsonpopti-josh-holt.github.io"]||[]).push([[0],{176:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(33),u=n.n(i),s=(n(176),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,307)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))}),l=n(5),o=n(110),j=n(29),b=n(300),d=n(293),O=n(294),h=n(282),p=n(298),x=n(306),g=n(292),f=n(299),v=n(278),y=n(6),m=n(1),k=(Object(y.a)(v.a)(a||(a=Object(j.a)(["\n  width: 42px;\n"]))),function(e){var t=e.setInputSettings,n=Object(r.useState)("5D8CK43mj6URqNwwUUGWz"),a=Object(l.a)(n,2),c=a[0],i=a[1],u=Object(r.useState)("product_sort"),s=Object(l.a)(u,2),o=s[0],j=s[1],v=Object(r.useState)(5),y=Object(l.a)(v,2),k=y[0],S=y[1],I=Object(r.useState)(""),K=Object(l.a)(I,2),w=K[0],F=K[1],C=Object(r.useState)(0),E=Object(l.a)(C,2),R=E[0],U=E[1],D=Object(r.useState)("decide"),M=Object(l.a)(D,2),P=M[0],q=M[1],N=Object(r.useState)('{"device": "ios"}'),G=Object(l.a)(N,2),J=G[0],z=G[1],A=Object(r.useState)(30),B=Object(l.a)(A,2);B[0],B[1];return Object(m.jsxs)(b.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[Object(m.jsx)(d.a,{id:"sdk-key-input",label:"SDK key",required:!0,value:c,onInput:function(e){return i(e.target.value)}}),Object(m.jsx)(d.a,{id:"key-input",label:"Key (Flag/Rule/Experiment/Feature)",required:!0,value:o,onInput:function(e){return j(e.target.value)}}),Object(m.jsx)(d.a,{id:"flag-key-input",label:"Users to fake (#)",required:!0,value:k,onInput:function(e){return S(e.target.value)}}),Object(m.jsx)(d.a,{id:"event-key-input",label:"Event to mock",value:w,onInput:function(e){return F(e.target.value)}}),Object(m.jsx)(d.a,{id:"attributes-input",label:"User attributes",value:J,onInput:function(e){return z(e.target.value)}}),Object(m.jsxs)(O.a,{children:[Object(m.jsx)(h.a,{id:"demo-controlled-radio-buttons-group",children:"SDK Method"}),Object(m.jsxs)(p.a,{"aria-labelledby":"demo-radio-buttons-group-label",value:P,name:"radio-buttons-group",onChange:function(e){return q(e.target.value)},children:[Object(m.jsx)(x.a,{value:"decide",control:Object(m.jsx)(g.a,{}),label:"Decide"}),Object(m.jsx)(x.a,{value:"activate",control:Object(m.jsx)(g.a,{}),label:"Activate"}),Object(m.jsx)(x.a,{value:"isFeatureEnabled",control:Object(m.jsx)(g.a,{}),label:"IsFeatureEnabled"})]})]}),Object(m.jsx)(f.a,{variant:"contained",onClick:function(){return U(R+1),void t({sdkKey:""===c?null:c,flagKey:""===o?null:o,numUsers:""===k?null:k,eventKey:""===w?null:w,sdkMethod:""===P?null:P,numRuns:R,attributes:J})},children:"Run"})]})}),S=n(15),I=n.n(S),K=n(22),w=n(86),F=(n(138),n(301)),C=n(289),E=function(e){var t=e.decisionResults,n=Object.getOwnPropertyNames(t[0]),a=[];return n.map((function(e){a.push({field:e,headerName:e,width:200,editable:!1})})),Object(m.jsx)(b.a,{sx:{height:600,width:"100%"},children:Object(m.jsx)(C.a,{getRowId:function(e){return e.userId},rows:t,columns:a,rowsPerPageOptions:[100],disableSelectionOnClick:!0})})},R=function(e){var t=e.inputSettings,n=t.sdkKey,a=t.flagKey,c=t.numUsers,i=t.sdkMethod,u=t.eventKey,s=t.numRuns,o=t.attributes,j=Object(r.useState)([]),d=Object(l.a)(j,2),O=d[0],h=d[1];Object(r.useEffect)((function(){(function(e,t){return g.apply(this,arguments)})(a,u).then((function(e){e!=O&&h(e)}))}),[s]);var p=Object(w.createInstance)({sdkKey:n});function x(){return null!==p.getOptimizelyConfig()}function g(){return g=Object(K.a)(I.a.mark((function e(t,n){var a,r,u,s,l,j,b,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,p.onReady();case 3:if(p.isValidInstance()||console.log("Invalid Opti Instance"),!x()){e.next=7;break}for(r=0;r<c;r++)u=Math.floor(9e4*Math.random()+1e4).toString(),"decide"===i?(s=JSON.parse(o),console.log(s),l=p.createUserContext(u,s),console.log(l),j=l.decide(t),n&&l.trackEvent(n),a.push({userId:u,flagOrFeatureKey:j.flagKey,ruleKey:j.ruleKey,variation:j.variationKey,enabled:j.enabled})):"activate"===i?(b=p.activate(t,u,o),n&&p.track(n,u),a.push({userId:u,ruleOrExperimentKey:t,variationKey:b})):"isFeatureEnabled"===i&&(d=p.isFeatureEnabled(t,u),n&&p.track(n,u,o),a.push({userId:u,flagOrFeatureKey:t,flagState:d}));return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return O.length>0?Object(m.jsxs)(b.a,{sx:{p:3},children:[Object(m.jsx)(F.a,{variant:"h4",children:"Decision Results"}),Object(m.jsx)(E,{decisionResults:O})]}):null},U=n(288),D=n(297),M=n(303),P=n(302),q=Object(y.a)(D.a)((function(e){var t=e.theme;return Object(o.a)(Object(o.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),N=function(e){var t=Object(r.useState)(null),n=Object(l.a)(t,2),a=n[0],i=n[1];return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(U.a,{}),Object(m.jsxs)(b.a,{sx:{flexGrow:1,height:"100vh"},children:[Object(m.jsx)(M.a,{position:"static",children:Object(m.jsx)(P.a,{children:Object(m.jsx)(F.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Flags Helper"})})}),Object(m.jsx)(q,{children:Object(m.jsx)(k,{setInputSettings:i})}),Object(m.jsx)("div",{children:a?Object(m.jsx)(R,{inputSettings:a}):Object(m.jsx)("div",{})})]})]})};u.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),s()}},[[217,1,2]]]);
//# sourceMappingURL=main.3e175869.chunk.js.map